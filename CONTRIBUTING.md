# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤–Ω–µ—Å–µ–Ω–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π (IKR –ø—Ä–æ—Ü–µ—Å—Å)

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –ø–æ –ø—Ä–æ—Ü–µ—Å—Å—É IKR: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤–µ–¥—É—Ç—Å—è –º–∞–ª–µ–Ω—å–∫–∏–º–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–º–∏ —à–∞–≥–∞–º–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Äî –∑–µ–ª—ë–Ω—ã–µ –≥–µ–π—Ç—ã –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.

## üå≥ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–µ—Ç–≤–ª–µ–Ω–∏—è (–û–ë–ù–û–í–õ–ï–ù–û 2025-10-10)

### –ó–æ–ª–æ—Ç–∞—è –≤–µ—Ç–∫–∞: `main`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–æ–ª—å–∫–æ production-ready –∫–æ–¥
- **–ó–∞—â–∏—Ç–∞**: ‚ö†Ô∏è **–ó–ê–©–ò–©–ï–ù–ê** - –ü—Ä—è–º—ã–µ –∫–æ–º–º–∏—Ç—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Pull Requests –∏–∑ `develop`
- **–°—Ç–∞—Ç—É—Å**: –í—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤–∞ –∫ deployment –≤ production

### –†–∞–±–æ—á–∞—è –≤–µ—Ç–∫–∞: `develop`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –≤–µ—Ç–∫–∞ –¥–ª—è –≤—Å–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ó–∞—â–∏—Ç–∞**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: —Ç—Ä–µ–±–æ–≤–∞—Ç—å PR reviews)
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç PRs –∏–∑ feature –≤–µ—Ç–æ–∫
- **–°—Ç–∞—Ç—É—Å**: –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏—á–∏, pre-release

### Feature –≤–µ—Ç–∫–∏
- **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ**: `feat/<feature-name>` –∏–ª–∏ `fix/<bug-name>`
- **–ò—Å—Ç–æ—á–Ω–∏–∫**: –°–æ–∑–¥–∞—é—Ç—Å—è –æ—Ç `develop`
- **Merge**: PR –≤ `develop` (–ù–ï –≤ `main`)
- **–û—á–∏—Å—Ç–∫–∞**: –£–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ merge

## –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

**–í–ê–ñ–ù–û**: –í—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–ø–µ—Ä—å –≤–µ–¥–µ—Ç—Å—è —á–µ—Ä–µ–∑ `develop` –≤–µ—Ç–∫—É!

```bash
# 1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ develop
git checkout develop
git pull origin develop

# 2. –°–æ–∑–¥–∞—Ç—å feature –≤–µ—Ç–∫—É
git checkout -b feat/my-feature

# 3. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git add .
git commit -m "feat: add my feature"

# 4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ GitHub
git push origin feat/my-feature

# 5. –°–æ–∑–¥–∞—Ç—å PR: feat/my-feature ‚Üí develop
#    (–ù–ï –≤ main!)
```

### –ü—Ä–∞–≤–∏–ª–∞ PR
- –ú–µ–ª–∫–∏–µ, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ PR. –ë–µ–∑ —Å–º–µ—à–∏–≤–∞–Ω–∏—è —Ñ–∏—á/—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞/–ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ –æ–¥–Ω–æ–º PR.
- **Base branch**: –í–°–ï–ì–î–ê `develop` (–Ω–µ `main`)
- –ö–∞–∂–¥–æ–º—É PR ‚Äî –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ, –∑–∞—á–µ–º –∏ –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–±–ª–æ–Ω PR.
- –í—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ LLM/AXON ‚Äî —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä—ã, UI –æ—Å—Ç–∞—ë—Ç—Å—è ¬´—Ç–æ–Ω–∫–∏–º¬ª.
- –ü–æ—Å–ª–µ –º–µ—Ä–∂–∞ –∞–≥–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç –∂—É—Ä–Ω–∞–ª—ã/–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø–æ IKR.

## –í–µ—Ç–≤–ª–µ–Ω–∏–µ –∏ –∫–æ–º–º–∏—Ç—ã

- –í–µ—Ç–≤–∏: `<type>/<scope>[-–¥–µ—Ç–∞–ª—å]`.
  - –ü—Ä–∏–º–µ—Ä—ã: `feat/agents-phase2`, `chore/ikr-checkpoint-2-2025-10-08`, `docs/readme-quickstart`.
- –ö–æ–º–º–∏—Ç—ã: Conventional Commits.
  - –ü—Ä–∏–º–µ—Ä—ã: `feat(debate): deep-link readonly mode`, `fix(tests): add MutationObserver polyfill`, `docs(ikr): add checkpoints`.

## –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è PR

–ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π:
- –û–±–Ω–æ–≤–∏—Ç–µ –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ ¬´How to verify¬ª —à–∞–≥–∏.
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PR –Ω–µ —Ä–∞—Å—à–∏—Ä—è–µ—Ç IKR UI –±–µ–∑ —è–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—É/–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º.
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–µ–ª—ë–Ω—ã–µ –≥–µ–π—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ.

–ö–∞–¥–µ–Ω—Å PR –ø–æ —Ñ–∞–∑–∞–º (–ø–æ–ª–∏—Ç–∏–∫–∞):
- –ù–∞ –æ–¥–Ω—É —Ñ–∞–∑—É –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è –¥–≤–∞ PR:
  1) –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π PR –ø—Ä–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ ‚â•50% –ø–æ –∂—É—Ä–Ω–∞–ª—É –¢–ó (—Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≥–µ–π—Ç—ã –Ω–∞ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç).
  2) –ó–∞–≤–µ—Ä—à–∞—é—â–∏–π PR –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Ñ–∞–∑—ã (Acceptance –∏–∑ –¢–ó –≤—ã–ø–æ–ª–Ω–µ–Ω—ã; –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∂—É—Ä–Ω–∞–ª—ã/—á–µ–∫–ø–æ–∏–Ω—Ç—ã).
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ merge –∞–≥–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç `src/ui-integration-tz.md` –∏ `docs/IKR_CHECKPOINTS.md`.

–®–∞–±–ª–æ–Ω PR –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `.github/pull_request_template.md` –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- Summary/Why/Changes
- Quality Gates (Tests/Typecheck/Build)
- How to verify
- Risks/Mitigations
- Post-merge actions (–æ–±–Ω–æ–≤–∏—Ç—å –∂—É—Ä–Ω–∞–ª—ã –∏ —á–µ–∫–ø–æ–∏–Ω—Ç—ã)

## –ö–∞—á–µ—Å—Ç–≤–æ: –≥–µ–π—Ç—ã

- Typecheck: `npm run typecheck` ‚Äî –±–µ–∑ –æ—à–∏–±–æ–∫.
- Build: `npm run build` ‚Äî —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç; –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–æ–ø—É—Å—Ç–∏–º—ã, –µ—Å–ª–∏ –æ–≥–æ–≤–æ—Ä–µ–Ω—ã.
- Tests: `npm test` ‚Äî ¬´–∑–µ–ª—ë–Ω—ã–µ¬ª. –î–æ–±–∞–≤–ª—è–π—Ç–µ –º–∏–Ω–∏–º—É–º 1‚Äì2 —Ç–µ—Å—Ç–∞ –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

## –¢–µ—Å—Ç—ã: —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

- jsdom: –ø–æ–ª–∏—Ñ–∏–ª–ª—ã ResizeObserver/MutationObserver –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –≤ `vitest.setup.ts`.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `data-testid` –¥–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö UI-—É–∑–ª–æ–≤ (Radix/shadcn).
- –°–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã ‚Äî –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–∫-—Å—Ü–µ–Ω–∞—Ä–∏–∏.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–ª—é—á–∏

- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã. –ö–ª—é—á–∏ ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –æ–∫—Ä—É–∂–µ–Ω–∏–µ/—Å–µ–∫—Ä–µ—Ç—ã CI.
- –í—ã–∑–æ–≤—ã AXON ‚Äî —á–µ—Ä–µ–∑ `src/services/axonAdapter.ts`.

## –õ–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ä—Ç

- –£—Å—Ç–∞–Ω–æ–≤–∫–∞: `npm install`
- –î–µ–≤-—Å–µ—Ä–≤–µ—Ä: `npm run dev`
- –¢–∏–ø—ã/—Å–±–æ—Ä–∫–∞/—Ç–µ—Å—Ç—ã: `npm run typecheck`, `npm run build`, `npm test`

---
–°–º. —Ç–∞–∫–∂–µ: 
- `src/ui-integration-tz.md` (–∂—É—Ä–Ω–∞–ª –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
- `docs/IKR_CHECKPOINTS.md` (—á–µ–∫–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–∞)
- `.github/BRANCH_PROTECTION.md` (‚≠ê NEW: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞—â–∏—Ç—ã –≤–µ—Ç–æ–∫ –∏ workflow)
- `docs/audits/MAIN_BRANCH_AUDIT.md` (‚≠ê NEW: –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç main –≤–µ—Ç–∫–∏)